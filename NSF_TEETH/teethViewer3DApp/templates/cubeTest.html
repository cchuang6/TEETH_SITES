<!DOCTYPE html>
<!-- saved from url=(0073)http://www.96methods.com/wp-content/plugins/scripts/2011/11/cubedemo.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>A Cube made with three.js</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				font-family: Monospace;
				background-color: #f0f0f0;
				margin: 0px;
				overflow: hidden;
			}
		</style>
	</head>
	<body>		
		<div id="teethContainer" style ="width: 1680px; height: 906px;" ></div>		 
	</body>
		
		<script type="text/javascript" src="./cubeTest/lib/jquery-1.8.3.min.js"></script>
		<!--<script type="text/javascript" src="../../lib/utils.js"></script>-->
		<script type="text/javascript" src="./cubeTest/lib/three.min.js"></script>
		<script type="text/javascript" src="./cubeTest/lib/Coordinates.js"></script>
		<script type="text/javascript" src="./cubeTest/lib/OrbitAndPanControls.js"></script>
		<script type="text/javascript" src="./cubeTest/lib/uclass_BeveledBlockGeometry.js"></script>
		<script type="text/javascript" src="./cubeTest/lib/uclass_TeapotGeometry.js"></script>
		<script type="text/javascript" src="./cubeTest/lib/stats.min.js"></script>
		<script type="text/javascript" src="./cubeTest/lib/dat.gui.min.js"></script>
		<script type="text/x-glsl" id="vertex">
			varying vec3 vNormal;
			varying vec3 vViewPosition;

			void main() {

				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				vNormal = normalize( normalMatrix * normal );
				vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
				vViewPosition = -mvPosition.xyz;
			}
		</script>

		<script type="text/x-glsl" id="fragment">
			uniform vec3 uMaterialColor;
			uniform vec3 uSpecularColor;
			
			uniform vec3 uDirLightPos;
			uniform vec3 uDirLightColor;
			
			uniform vec3 uAmbientLightColor;
			
			uniform float uKd;
			uniform float uKs;
			uniform float shininess;
			
			uniform float uDropoff;
			
			varying vec3 vNormal;
			varying vec3 vViewPosition;
			
			void main() {

				// ambient
				gl_FragColor = vec4( uAmbientLightColor, 1.0 );
			
				// compute direction to light
				vec4 lDirection = viewMatrix * vec4( uDirLightPos, 0.0 );
				vec3 lVector = normalize( lDirection.xyz );
			
				vec3 normal = normalize( vNormal );
				
				// diffuse: N * L. Normal must be normalized, since it's interpolated.
				float diffuse = max( dot( normal, lVector ), 0.0);
			
				// This can give a hard termination to the highlight, but it's better than some weird sparkle.
				if (diffuse <= 0.0) {
					return;
				}

				gl_FragColor.rgb += uKd * uMaterialColor * uDirLightColor * diffuse;

				// specular: N * H to a power. H is light vector + view vector
				vec3 viewPosition = normalize( vViewPosition );
				vec3 pointHalfVector = normalize( lVector + viewPosition );
				float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );
				float specular = pow( pointDotNormalHalf, shininess );
				specular *= diffuse*(2.0 + shininess)/8.0;
				
				// Student: add test here, when specular < uDropoff, set to 0.0, else to 1.0

				gl_FragColor.rgb += uDirLightColor * uSpecularColor * uKs * specular;
			}
		</script>
		<script type="text/javascript" src="shaders.js"></script>
		



		<!--<script src="./cubeTest/cubedemo.js"></script>-->


		<!-- <script src="./cubeTest/cubedemo_modified.js"></script> -->
		
	

</html>